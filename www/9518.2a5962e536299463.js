"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9518],{9518:(W,v,r)=>{r.r(v),r.d(v,{LoginPageModule:()=>G});var p=r(6895),l=r(4719),i=r(3906),h=r(2905),c=r(5861),C=r(4464),Z=r(3096),_=r(2340);const y=(0,r(7423).fo)("GoogleAuth",{web:()=>r.e(7733).then(r.bind(r,7733)).then(e=>new e.GoogleAuthWeb)});var m=r(7323),T=r(5444),P=r(2263),b=r(7321),n=r(6353),x=r(7556),M=r(5083),A=r(5596);function L(e,a){if(1&e&&(n.TgZ(0,"ion-select-option",25),n._uU(1),n.qZA()),2&e){const o=a.$implicit;n.Q6J("value",o.dialCode),n.xp6(1),n.AsE(" ",o.dialCode," ",o.name," ")}}function N(e,a){1&e&&(n.TgZ(0,"ion-text",28),n._uU(1," * Please enter the Mobile Number "),n.qZA())}function I(e,a){1&e&&(n.TgZ(0,"ion-text",28),n._uU(1," * Please enter a valid Mobile Number "),n.qZA())}function J(e,a){if(1&e&&(n.TgZ(0,"ion-text",26),n.YNc(1,N,2,0,"ion-text",27),n.YNc(2,I,2,0,"ion-text",27),n.qZA()),2&e){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.form.get("phone").hasError("required")),n.xp6(1),n.Q6J("ngIf",o.form.get("phone").hasError("minlength")&&!o.form.get("phone").hasError("required"))}}function U(e,a){1&e&&(n.TgZ(0,"ion-label"),n._uU(1,"Continue"),n.qZA())}function Y(e,a){1&e&&n._UZ(0,"ion-icon",29)}function w(e,a){1&e&&n._UZ(0,"ion-progress-bar",30)}function Q(e,a){1&e&&n._UZ(0,"ion-icon",31)}function z(e,a){1&e&&(n.TgZ(0,"ion-label"),n._uU(1,"oogle"),n.qZA())}function F(e,a){1&e&&n._UZ(0,"ion-progress-bar",30)}const S=[{path:"",component:(()=>{class e{constructor(o,t,g,s,u,f,d){this.modalCtrl=o,this.auth=t,this.router=g,this.nav=s,this.authY=u,this.avatar=f,this.overlay=d,this.CountryJson=_.N.CountryJson,this.flag="https://cdn.kcak11.com/CountryFlags/countries/ng.svg",this.slideOpts={initialSlide:0,speed:300,autoplay:!0},(0,C.n$)("capacitor")||y.initialize(),this.CountryCode="+1",this.numberT="+1"}HideSplash(){return(0,c.Z)(function*(){yield b.c.hide()})()}ngOnInit(){var o=this;return(0,c.Z)(function*(){o.form=new l.cw({phone:new l.NI(null,{validators:[l.kI.required,l.kI.minLength(10),l.kI.maxLength(10)]})})})()}countryCodeChange(o){console.log(o.detail.value.toString()),this.CountryCode="",this.numberT=o.detail.value.toString()}Show(){return(0,c.Z)(function*(){yield P.A_.setOverlaysWebView({overlay:!1})})()}Hide(){return(0,c.Z)(function*(){yield P.A_.setOverlaysWebView({overlay:!0})})()}signIn(){var o=this;return(0,c.Z)(function*(){try{if(!o.form.valid)return void o.form.markAllAsTouched();console.log(o.form.value),o.approve2=!0,yield o.auth.signInWithPhoneNumber(o.numberT+o.form.value.phone),o.approve2=!1;const s=o.modalCtrl.create({component:Z._,componentProps:{phone:o.form.value.phone,countryCode:o.numberT},swipeToClose:!0});(yield s).present();const u=(yield s).onWillDismiss();o.authY.onAuthStateChanged(function(){var f=(0,c.Z)(function*(d){o.router.navigateByUrl(d?"home":"details"),o.overlay.hideLoader()});return function(d){return f.apply(this,arguments)}}()),console.log(u)}catch(t){console.log(t),o.overlay.showAlert("Error",JSON.stringify(t)),o.approve2=!1}})()}loginWithGoogle(){var o=this;return(0,c.Z)(function*(){try{o.approve=!0;let t=yield y.signIn();const g=T.hJ.credential(t.authentication.idToken),s=yield(0,m.sB)(o.authY,g);s.user.phoneNumber?(yield o.avatar.createUser(s.user.displayName,s.user.email,s.user.photoURL||"",s.user.phoneNumber||94909220,o.authY.currentUser.uid),yield o.avatar.createCard("Cash",0,"cash","None"),o.router.navigateByUrl("home")):(yield(0,m.h8)(o.authY.currentUser),o.nav.navigateForward("phone-detail",{queryParams:{details:s}})),console.log(s),o.approve=!1}catch(t){o.overlay.showAlert("Error",JSON.stringify(t)),o.approve=!1}})()}}return e.\u0275fac=function(o){return new(o||e)(n.Y36(i.IN),n.Y36(x.e),n.Y36(h.F0),n.Y36(i.SH),n.Y36(m.gx),n.Y36(M.o),n.Y36(A.F))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:40,vars:13,consts:[[1,"ion-no-border",3,"translucent"],["lines","none"],[1,"ion-padding"],["color","primary",1,"ion-text-center"],["pager","true",3,"options"],["src","../assets/imgs/main.svg"],["src","../assets/imgs/main1.svg"],["src","../assets/imgs/main2.svg"],[1,"ion-no-border"],[1,"ion-no-padding"],[1,"ion-margin-horizontal"],[3,"formGroup"],["id","sign-in-button"],[1,"ion-margin-vertical"],["slot","start","interface","action-sheet",3,"placeholder","ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","phone","placeholder","Enter Mobile Number","type","tel","clearInput","","minlength","10","maxlength","10",3,"ionFocus","ionBlur"],["class","ion-text-center",4,"ngIf"],["shape","round","size","large","type","submit","color","secondary","expand","block",3,"disabled","click"],[4,"ngIf"],["color","light","slot","end","name","arrow-forward",4,"ngIf"],["color","light","type","indeterminate",4,"ngIf"],["color","medium","data-label","or",1,"pm-awesome-divider"],["shape","round","size","large","type","submit","color","primary","expand","block",3,"click"],["color","light","slot","icon-only","name","logo-google",4,"ngIf"],[3,"value"],[1,"ion-text-center"],["class","error","color","danger",4,"ngIf"],["color","danger",1,"error"],["color","light","slot","end","name","arrow-forward"],["color","light","type","indeterminate"],["color","light","slot","icon-only","name","logo-google"]],template:function(o,t){1&o&&(n.TgZ(0,"ion-header",0)(1,"ion-list",1)(2,"ion-list-header",2)(3,"ion-label",3)(4,"h1"),n._uU(5,"PANA RIDE"),n.qZA(),n.TgZ(6,"p"),n._uU(7,"Ride With Confidence and integrity"),n.qZA()()(),n.TgZ(8,"ion-slides",4)(9,"ion-slide"),n._UZ(10,"ion-img",5),n.qZA(),n.TgZ(11,"ion-slide"),n._UZ(12,"ion-img",6),n.qZA(),n.TgZ(13,"ion-slide"),n._UZ(14,"ion-img",7),n.qZA()()()(),n._UZ(15,"ion-content",8),n.TgZ(16,"ion-footer",8)(17,"ion-row",9)(18,"ion-list",9)(19,"ion-item-group",10)(20,"form",11),n._UZ(21,"div",12),n.TgZ(22,"div",13)(23,"ion-item")(24,"ion-select",14),n.NdJ("ionChange",function(s){return t.countryCodeChange(s)}),n.YNc(25,L,2,3,"ion-select-option",15),n.qZA(),n.TgZ(26,"ion-input",16),n.NdJ("ionFocus",function(){return t.Show()})("ionBlur",function(){return t.Hide()}),n.qZA()(),n.YNc(27,J,3,2,"ion-text",17),n.qZA(),n.TgZ(28,"ion-button",18),n.NdJ("click",function(){return t.signIn()}),n.YNc(29,U,2,0,"ion-label",19),n.YNc(30,Y,1,0,"ion-icon",20),n.YNc(31,w,1,0,"ion-progress-bar",21),n.qZA()(),n.TgZ(32,"ion-label",22),n._uU(33,"OR"),n.qZA(),n.TgZ(34,"ion-row",9)(35,"ion-col")(36,"ion-button",23),n.NdJ("click",function(){return t.loginWithGoogle()}),n.YNc(37,Q,1,0,"ion-icon",24),n.YNc(38,z,2,0,"ion-label",19),n.YNc(39,F,1,0,"ion-progress-bar",21),n.qZA()()()()()()()),2&o&&(n.Q6J("translucent",!0),n.xp6(8),n.Q6J("options",t.slideOpts),n.xp6(12),n.Q6J("formGroup",t.form),n.xp6(4),n.s9C("placeholder",t.CountryCode),n.xp6(1),n.Q6J("ngForOf",t.CountryJson),n.xp6(2),n.Q6J("ngIf",!t.form.get("phone").valid&&t.form.get("phone").touched),n.xp6(1),n.Q6J("disabled",!t.form.get("phone").valid),n.xp6(1),n.Q6J("ngIf",!t.approve2),n.xp6(1),n.Q6J("ngIf",!t.approve2),n.xp6(1),n.Q6J("ngIf",t.approve2),n.xp6(6),n.Q6J("ngIf",!t.approve),n.xp6(1),n.Q6J("ngIf",!t.approve),n.xp6(1),n.Q6J("ngIf",t.approve))},dependencies:[p.sg,p.O5,l._Y,l.JJ,l.JL,l.wO,l.nD,i.YG,i.wI,i.W2,i.fr,i.Gu,i.gu,i.Xz,i.pK,i.Ie,i.Ub,i.Q$,i.q_,i.yh,i.X7,i.Nd,i.t9,i.n0,i.A$,i.Hr,i.yW,i.QI,i.j9,l.sg,l.u],styles:["@keyframes slide-left{0%{transform:translate(0)}to{transform:translate(-100px)}}@keyframes slide-right{0%{transform:translate(0)}to{transform:translate(100px)}}.slide-left[_ngcontent-%COMP%]{animation:slide-left .5s cubic-bezier(.25,.46,.45,.94) both}.slide-right[_ngcontent-%COMP%]{animation:slide-right .5s cubic-bezier(.25,.46,.45,.94) both}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{background:transparent;display:block}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{margin-right:2.5vh}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700;font-size:1.8rem}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:1.3rem}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:.75em!important}ion-toolbar[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{height:44px}ion-img[_ngcontent-%COMP%]{margin:auto;width:auto}ion-slides[_ngcontent-%COMP%]{height:440px}ion-select[_ngcontent-%COMP%]{color:var(--ion-color-primary);--placeholder-opacity: 1;width:30%;justify-content:center;font-size:24px;font-weight:500}.pm-awesome-divider[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:20px}.shadow-top[_ngcontent-%COMP%]{box-shadow:0 -1.5px 1.5px #c4c4c46a}"]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[h.Bz.forChild(S),h.Bz]}),e})(),G=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.ez,l.u5,i.Pc,B,l.UX]}),e})()}}]);